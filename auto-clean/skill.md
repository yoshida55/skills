# auto-clean スキル

提出前のHTML/CSSクリーンアップを実行するスキル

## 使い方
```
/auto-clean
```

---

## 🎯 目的

提出前にコードを検査し、開発用の痕跡やミスを検出・修正する。
**修正は実行せず、検出結果を一覧で報告する。ユーザーが確認後に修正を指示する。**

---

## 📋 検出項目

### 1. `└` コメントの削除
auto-skeleton で作成段階用に入れた `└` コメントを検出。

**CSS**:
```css
/* └ サムネイル（左） */   ← 検出対象
/* └ └ 詳細文 */          ← 検出対象
/* お知らせカラム */       ← 残す
```

**HTML**:
```html
<!-- └ テキスト側（右） -->      ← 検出対象
<!-- └ └ カテゴリ+日付 -->       ← 検出対象
<!-- お知らせエリア -->           ← 残す
```

**判定**: コメント内に `└` を含むものすべて

---

### 2. デバッグ用コードの検出
コメントやプロパティに以下の文字列が含まれていたら報告。

**検出キーワード**:
- コメント内: `debug` `test` `tmp` `temp` `仮` `確認用` `あとで`
- CSSプロパティ: `border: .*solid red` `border: .*solid blue` `background: red` `background: blue` `outline: .*red`
- HTML: `console.log` (script内)

**報告形式**:
```
⚠ デバッグ痕跡:
- work.css:650 → border: 0.5rem solid red
- work.css:656 → border: 0.5rem solid red
- index.html:45 → console.log(...)
```

---

### 3. AI生成文の検出
AIが生成しがちな不自然な表現をコメントやテキストから検出。

**検出パターン**:
- 「以下の通り」「下記の通り」
- 「適切に」「正しく」「適宜」
- 「～を実現します」「～を提供します」
- 過剰な丁寧表現

**報告のみ**。修正はユーザーが判断する。

---

### 4. 共通化の提案
同じスタイルが複数セクションで重複している場合に報告。

**例**:
```
💡 共通化候補:
- .news_item と .blog_item → 同じ display:flex 構造
  → 共通クラス化を検討？
```

**報告のみ**。共通化するかはユーザーが判断する。

---

### 5. 命名ミスの検出
auto-class の命名規則に違反しているものを検出。

**検出対象**:
- ハイフン `-` 使用 → `_` アンダースコアであるべき
- キャメルケース `newsItem` → `news_item` であるべき
- 省略形 `_btn` `_desc` `_nav` → `_button` `_description` （`img` `nav` は例外OK）
- 4単語以上のクラス名
- スペルミス（明らかなもの）

**報告形式**:
```
❌ 命名ミス:
- news-item → news_item（ハイフン→アンダースコア）
- newsBtn → news_button（キャメルケース+省略）
- accoridon_item → accordion_item（スペルミス）
```

---

### 6. その他の検出
- `TODO` `FIXME` `HACK` コメント → 報告
- 空ルールセット `{ }` → スケルトン消し忘れの可能性を報告
- コメントアウトされたCSS/HTML → 削除忘れを報告
- `!important` → 本当に必要か確認を促す

---

## 🎯 出力フォーマット

```
## auto-clean 結果

### ❌ 要修正（自動修正可能）
- [ ] `└` コメント: CSS 5件 / HTML 8件

### ⚠ 要確認（ユーザー判断）
- [ ] デバッグ用CSS: work.css:650, 656
- [ ] AI生成文: なし
- [ ] TODO/FIXME: なし

### 💡 提案（任意）
- [ ] 共通化候補: news_item / blog_item
- [ ] 空ルールセット: 2件

### ✅ 問題なし
- 命名規則: OK
- スペルミス: なし
```

---

## ⚠ 注意事項

1. **報告ファースト**: まず一覧を出す。勝手に修正しない
2. **ユーザー確認後に修正**: 「修正して」と言われたら実行
3. **判断が必要なものは提案のみ**: 共通化・AI文など
4. **`└` 削除時は空行も整理**: コメント削除後に空行が連続しないようにする
